$font-medium: "SFProText-Medium", Arial, Helvetica, sans-serif;
$font-default: "SFProText-Light", Arial, Helvetica, sans-serif;
$font-color: #F5F8FA;
$active-button-color: #5a91b3;
$breakpoints-phone: 320px;
$breakpoints-tablet: 768px;
$breakpoints-desktop: 1024px;
$scaleRatio: 1.25;

.layerstree-panel-list {
  width: 100%;
  padding: .5rem;
}

.layerstree-group {
  margin-top: .75rem;
  &--active {
    .bp3-collapse-body {
      transform: inherit !important;
      padding: .3rem;
    background-color: #394B59;
    border: 1px solid #0000001f;
    } 
  }

  &__label-button {
    display: flex;
    align-items: center;
    margin-bottom: .25rem;
    outline: none;
    padding: 0;

    &:active {
      background: none;
    }

    &:hover {
      background: none;
    }

    H5 {
      font-family: $font-medium;
      font-size: 0.9rem;
      letter-spacing: .07rem;
      color: $font-color;
      font-weight: 500;
      margin: 0;
    }
  }
}

.layerNode-container {
  padding: .35rem .25rem;
  border: 1px solid #0000001f;
  border-radius: 0;
  font-family: $font-default;
  font-size: .875rem;
  color: $font-color;
  letter-spacing: 0.06rem;
}

.layerNode__tooltip span {
  width: 100%;
  height: 1.2rem;
}

.layerNode__content--desktop {
  display: flex;
  flex-direction: row;
  justify-content: space-between;

  &-switch-label {
    display: flex;
    align-items: center;
    width: 100%;
  }

  .layerNode__tooltip {  
    width: 100%;
    flex: auto;
    min-width: 0;
    height: 1.2rem;
    & > .bp3-popover-target {
      max-width: 100%;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }
  }
}
.layerNode__content--desktop--active {
  max-height: 1.2rem;
  .layerNode__content--desktop-switch-label {
    min-width: 0;
    display: flex;
  }
  .layerNode__tooltip {
    height: 1.2rem;
  }
  .layerNode-options--desktop {
    max-width: 7.5rem;
    padding-left: .25rem;
  }
}

.layerNode__content--mobile {
  display: flex;
  flex-direction: column;
  align-items: stretch;
  justify-content: center;
  &-switch-label {
    display: flex;
    width: 100%;
    padding: 0 0 .5rem 0;
    font-size: .875rem / $scaleRatio;
  }
}
.control-container {
  padding: 1rem 0 0 0;
}

.bp3-switch {
  margin: 0 0 0 0;
  outline: none;
}

.layerstree-subitems-list {
  .bp3-popover-target, div button {
    width: 100%;
    outline: none;
    margin: auto;
  }
  button {
    display: flex;
    justify-content: space-between;
  }
}

.layerNode-options {
  background-color: transparent;
  
  &__button {
    margin: 0 .2rem;
    min-width: 1.125rem;
    min-height: 1.125rem;
    padding: 0;
    outline: none;
  
    .bp3-icon {
      padding: 0.05rem;
    }
  
    &--more {
      svg {
        transform: scale(0.75);
      }
    }
  }

  &--desktop {
    display: none;

    .layerNode-options__button--more {
      transform: rotate(90deg);
    }

    .layerNode-options__button--active {
      background: radial-gradient($active-button-color 0, transparent 55%) !important;
      svg {
        filter: invert(.5) sepia(1) saturate(5) hue-rotate(175deg);
      }
    }
  }

  &--mobile {
    display: flex;
    flex-flow: row wrap;
    justify-content: flex-end;
    padding: .25rem 0;
    border-top: 1px solid #0000001f;
    border-radius: 2px;
    background-color: #0000001f;
    
    .layerNode-options__button {
      width: 4.06rem;
    }
    .layerNode-options__button--active {
      background: radial-gradient(circle at 50% 1.05rem, $active-button-color 0, transparent 40%) !important;
      svg {
        filter: invert(.5) sepia(1) saturate(5) hue-rotate(175deg);
      }
    }
  }

  &--active {
    display: flex;
  }
}

.layerNode-options--mobile .layerNode-options__button {
  padding: .5rem;
  display: flex;
  flex-direction: column;
  outline: none;
  font-size: .65rem;
  .bp3-icon {
    padding-bottom: .25rem;
    margin: 0;
  }
}

.layerNode-total {
  margin-left: .25rem;
}

.layerNode-container:hover {
  .layerNode__content--desktop-switch-label {
    min-width: 0;
    display: flex;
  }
  .layerNode-options--desktop {
    display: flex;
    flex-direction: row;
    justify-content: flex-end;
    align-items: stretch;
    max-height: 1.2rem;
    padding-left: .25rem;
    max-width: 7.5rem;
  }
}

@media(min-width: $breakpoints-phone) and (max-width: $breakpoints-desktop){
  
  .layerstree-group {
    
    &--active {
      .bp3-collapse-body {
        padding: .5rem / $scaleRatio;
      } 
    }
  
    &__label-button {
      H5 {
        font-size: 0.9rem / $scaleRatio;
        letter-spacing: .07rem / $scaleRatio;
        font-weight: 400;
      }
    }
  }

  .layerNode-container {
    padding: .75rem .5rem .25rem .5rem;
    font-size: .875rem / $scaleRatio;
    letter-spacing: 0.06rem / $scaleRatio;
    overflow: hidden;
    white-space: inherit;

    .control-container {
      padding: .5rem 0 .5rem 0;

      .bp3-control {
        margin-bottom: 1.5rem;
      }
      .bp3-control:last-child {
        margin-bottom: .25rem;
      }
      .bp3-radio:first-child {
        margin-top: .75rem;
      }
      .bp3-select-popover .bp3-menu {
        .control-container__item li {
          padding: .5rem;
        }
      }
    }
  }
  .layerNode__content {
    display: flex;
    flex-direction: column;
  }
}
